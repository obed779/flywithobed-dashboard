
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‚úàÔ∏è FlyWithObed Live Aviator Dashboard</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#11182a;
      --accent:#00d1ff;
      --text:#e6eef8;
    }
    html,body{
      height:100%;
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
      background:linear-gradient(180deg,var(--bg) 0%,#071022 100%);
      color:var(--text);
    }
    .container{
      max-width:1100px;
      margin:0 auto;
      padding:20px;
    }
    header{
      text-align:center;
      font-size:1.5rem;
      font-weight:700;
      color:var(--accent);
      margin-bottom:20px;
    }
    .dashboard{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:20px;
    }
    .card{
      background:var(--card);
      border-radius:12px;
      padding:16px;
      box-shadow:0 4px 20px rgba(0,0,0,0.3);
    }
    canvas{
      display:block;
      width:100%;
      height:220px;
      border-radius:8px;
      background:linear-gradient(180deg,#08101b 0%, #04101a 120%);
    }
    table{
      width:100%;
      border-collapse:collapse;
      color:#cfd9eb;
    }
    th,td{
      border-bottom:1px solid rgba(255,255,255,0.05);
      padding:6px;
      text-align:left;
    }
    th{opacity:0.7;font-weight:500;}
    .player{
      display:flex;
      flex-direction:column;
      gap:6px;
      font-size:15px;
    }
    .player span{color:var(--accent);}
    .controls{
      display:flex;
      gap:8px;
      margin-top:12px;
    }
    .btn{
      background:rgba(255,255,255,0.04);
      border:1px solid rgba(255,255,255,0.08);
      padding:8px 14px;
      border-radius:8px;
      cursor:pointer;
      color:var(--text);
    }
    .btn:hover{background:rgba(255,255,255,0.08);}
    .hud{display:flex;align-items:center;gap:10px;margin-bottom:8px;}
    .mult{font-weight:700;font-size:22px;color:var(--accent);}
    .round{opacity:0.7;}
  </style>
</head>
<body>
  <div class="container">
    <header>‚úàÔ∏è FlyWithObed Live Aviator Dashboard</header>

    <div class="card" style="grid-column:span 2;">
      <div class="hud">
        <div class="mult">Multiplier: <span id="multDisp">1.00x</span></div>
        <div class="round">Round: <span id="roundDisp">‚Äî</span></div>
        <div>Status: <span id="status">idle</span></div>
      </div>
      <canvas id="aviatorCanvas" width="1000" height="400"></canvas>
      <div class="controls">
        <button class="btn" id="demoStart">Start Demo Round</button>
        <button class="btn" id="demoCrash">Force Crash</button>
        <button class="btn" id="resetBtn">Reset</button>
      </div>
    </div>

    <div class="dashboard">
      <div class="card">
        <div class="player">
          <strong>üë®‚Äç‚úàÔ∏è Player A</strong>
          <div>Balance: <span>$1000</span></div>
          <input type="text" placeholder="Enter bet" style="width:100%;padding:6px;border-radius:6px;border:none;outline:none;">
          <button class="btn">Bet</button>
          <button class="btn">Cashout</button>
        </div>
      </div>

      <div class="card">
        <div class="player">
          <strong>üßë‚Äç‚úàÔ∏è Player B</strong>
          <div>Balance: <span>$1000</span></div>
          <input type="text" placeholder="Enter bet" style="width:100%;padding:6px;border-radius:6px;border:none;outline:none;">
          <button class="btn">Bet</button>
          <button class="btn">Cashout</button>
        </div>
      </div>

      <div class="card" style="grid-column:span 2;">
        <strong>üìà History</strong>
        <table id="historyTable">
          <thead>
            <tr><th>Round</th><th>Crash Point</th></tr>
          </thead>
          <tbody>
            <tr><td>20</td><td>3.13x</td></tr>
            <tr><td>19</td><td>5.31x</td></tr>
            <tr><td>18</td><td>2.31x</td></tr>
            <tr><td>17</td><td>3.86x</td></tr>
            <tr><td>16</td><td>3.79x</td></tr>
            <tr><td>15</td><td>2.64x</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

<script>
const canvas = document.getElementById('aviatorCanvas');
const ctx = canvas.getContext('2d');
const DPR = window.devicePixelRatio || 1;
canvas.width = canvas.clientWidth * DPR;
canvas.height = canvas.clientHeight * DPR;
ctx.scale(DPR, DPR);

let state = {
  running:false,
  round:null,
  target:1.0,
  current:1.0,
  startTime:0
};
const DISPLAY={
  mult:document.getElementById('multDisp'),
  round:document.getElementById('roundDisp'),
  status:document.getElementById('status')
};

function drawPlane(x,y,size,angle){
  ctx.save();
  ctx.translate(x,y);
  ctx.rotate(angle);
  ctx.scale(size/100,size/100);
  ctx.beginPath();
  ctx.moveTo(-60,0);
  ctx.quadraticCurveTo(-30,-18,0,-6);
  ctx.quadraticCurveTo(20,-2,60,-8);
  ctx.lineTo(56,-4);
  ctx.lineTo(40,-2);
  ctx.lineTo(0,8);
  ctx.lineTo(-40,12);
  ctx.closePath();
  ctx.fillStyle='#00d1ff';
  ctx.fill();
  ctx.restore();
}
function clear(){ctx.clearRect(0,0,canvas.clientWidth,canvas.clientHeight);}
function drawBackground(){
  const H=canvas.clientHeight;
  for(let i=0;i<6;i++){
    const y=H-(i*40)-30;
    ctx.beginPath();
    ctx.moveTo(0,y);
    ctx.lineTo(canvas.clientWidth,y);
    ctx.strokeStyle='rgba(255,255,255,0.03)';
    ctx.lineWidth=1;
    ctx.stroke();
  }
}
function multToX(mult){
  const minX=40, maxX=canvas.clientWidth-140;
  const baseMax=Math.log(Math.max(state.target,3)+1);
  const v=Math.log(Math.max(mult,1));
  const t=Math.min(1,v/baseMax);
  return minX+(maxX-minX)*t;
}
function renderPlane(){
  const H=canvas.clientHeight;
  const x=multToX(state.current);
  const y=H/2-20-Math.min(90,Math.log(state.current+1)*45);
  ctx.save();
  ctx.beginPath();
  ctx.ellipse(x,H-30,42,8,0,0,Math.PI*2);
  ctx.fillStyle='rgba(0,0,0,0.35)';
  ctx.fill();
  ctx.restore();
  drawPlane(x,y,48,-0.12);
}
function renderHUD(){
  DISPLAY.mult.textContent=state.current.toFixed(2)+'x';
  DISPLAY.round.textContent=state.round===null?'‚Äî':state.round;
  DISPLAY.status.textContent=state.running?'in flight':'idle';
}
let last=performance.now();
function loop(now){
  const dt=now-last; last=now;
  if(state.running){
    const elapsed=(now-state.startTime)/1000;
    const simulated=1+0.6*(Math.exp(1.0*elapsed)-1);
    state.current=Math.min(simulated,state.target);
    if(state.current>=state.target) finishRound(state.target);
  }
  clear(); drawBackground(); renderPlane(); renderHUD();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

function startRound(target=3.2,roundId=null){
  state.running=true;
  state.startTime=performance.now();
  state.round=roundId||Math.floor(Math.random()*999);
  state.target=target;
  state.current=1.0;
  DISPLAY.status.textContent='in flight';
}
function finishRound(crashPoint){
  state.running=false;
  state.current=crashPoint;
  DISPLAY.status.textContent='crashed @ '+crashPoint.toFixed(2)+'x';
  const startX=multToX(crashPoint);
  const startY=canvas.clientHeight/2-20-Math.min(90,Math.log(crashPoint+1)*45);
  const t0=performance.now();
  const dur=900;
  function fall(now){
    const p=Math.min(1,(now-t0)/dur);
    clear(); drawBackground();
    ctx.save();
    const x=startX+p*120;
    const y=startY+p*400;
    drawPlane(x,y,48-p*18,0.6+p*0.8);
    ctx.restore();
    renderHUD();
    if(p<1) requestAnimationFrame(fall);
  }
  requestAnimationFrame(fall);
}
document.getElementById('demoStart').onclick=()=>{
  const t=Math.round((Math.random()*7+1)*100)/100;
  startRound(t);
};
document.getElementById('demoCrash').onclick=()=>finishRound(state.current);
document.getElementById('resetBtn').onclick=()=>{
  state.running=false; state.current=1; DISPLAY.status.textContent='idle';
};
</script>
</body>
</html>
