
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlyWithObed Aviator Dashboard</title>
  <style>
    body {
      background: #0b0f19;
      color: #fff;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      text-align: center;
    }
    header {
      background: #11162a;
      padding: 1rem;
      font-size: 1.5rem;
      font-weight: bold;
      color: #00ffd5;
    }
    #plane {
      width: 100px;
      position: relative;
      animation: fly 6s infinite linear;
    }
    @keyframes fly {
      0% { transform: translateX(0); }
      100% { transform: translateX(90vw); }
    }
    .balance {
      font-size: 1.2rem;
      margin: 1rem;
      color: #00ffd5;
    }
    .bet-section {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-top: 2rem;
    }
    .bet-box {
      background: #11162a;
      border: 2px solid #00ffd5;
      padding: 1rem;
      border-radius: 10px;
      width: 200px;
    }
    input {
      width: 100%;
      padding: 8px;
      border: none;
      border-radius: 5px;
      margin-top: 8px;
    }
    button {
      background: #00ffd5;
      color: #000;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      margin-top: 10px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #00bfa5;
    }
  </style>
</head>
<body>
  <header>‚úàÔ∏è FlyWithObed Aviator Dashboard</header>
  <div id="status">Connecting to Aviator Live...</div>
  <div class="balance">üí∞ Balance: <span id="balance">1000.00</span> KES</div>
  <img id="plane" src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Airplane_silhouette.png" alt="Plane" />

  <div class="bet-section">
    <div class="bet-box">
      <h3>Bet A</h3>
      <input type="number" id="betA" placeholder="Enter amount" />
      <button onclick="placeBet('A')">Place Bet</button>
      <button onclick="cashout('A')">Cashout</button>
      <p id="betAStatus">No active bet</p>
    </div>
    <div class="bet-box">
      <h3>Bet B</h3>
      <input type="number" id="betB" placeholder="Enter amount" />
      <button onclick="placeBet('B')">Place Bet</button>
      <button onclick="cashout('B')">Cashout</button>
      <p id="betBStatus">No active bet</p>
    </div>
  </div>

  <script>
    const statusEl = document.getElementById("status");
    const balanceEl = document.getElementById("balance");
    let balance = 1000;
    let currentMultiplier = 1.0;
    let bets = { A: null, B: null };

    const socket = io("https://obedaviator.onrender.com", {
      transports: ["websocket"],
      reconnection: true,
    });

    socket.on("connect", () => {
      statusEl.textContent = "‚úÖ Connected to Aviator Live";
    });

    socket.on("flight_update", (data) => {
      currentMultiplier = parseFloat(data.crashPoint);
      statusEl.textContent = `üõ´ Plane flying... ${currentMultiplier.toFixed(2)}x`;
    });

    socket.on("new_round", (data) => {
      statusEl.textContent = `üí• Plane crashed at ${data.result}x`;
      checkCrash(data.result);
      resetBets();
    });

    function placeBet(type) {
      const input = document.getElementById(`bet${type}`);
      const amount = parseFloat(input.value);
      if (!amount || amount <= 0 || amount > balance) {
        alert("Invalid amount");
        return;
      }
      balance -= amount;
      balanceEl.textContent = balance.toFixed(2);
      bets[type] = { amount, active: true, multiplier: 1.0 };
      document.getElementById(`bet${type}Status`).textContent = `üé≤ Betting ${amount} KES`;
    }

    function cashout(type) {
      if (!bets[type] || !bets[type].active) return;
      const win = bets[type].amount * currentMultiplier;
      balance += win;
      bets[type].active = false;
      document.getElementById(`bet${type}Status`).textContent = `üí∞ Cashed out ${win.toFixed(2)} KES`;
      balanceEl.textContent = balance.toFixed(2);
    }

    function checkCrash(crashPoint) {
      for (const t of ["A", "B"]) {
        if (bets[t] && bets[t].active) {
          bets[t].active = false;
          document.getElementById(`bet${t}Status`).textContent = `üí• Lost at ${crashPoint}x`;
        }
      }
    }

    function resetBets() {
      setTimeout(() => {
        for (const t of ["A", "B"]) {
          document.getElementById(`bet${t}Status`).textContent = "No active bet";
        }
      }, 3000);
    }
  </script>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</body>
</html>

  
